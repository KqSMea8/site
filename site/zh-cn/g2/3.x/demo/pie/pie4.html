<!--
title: outing 去哪玩投票结果分析
resource:
  jsFiles:
    - ${url.dataSet}
    - ${url.jquery}
plotDescription: 约一半同学喜欢海岛休闲游，20% 的同学万年不变的选择了千岛湖，其次较多的是柬埔寨，呼伦贝尔选择较少是因为季节不对。距离较远的苏梅岛和塞班岛，相对来说不受欢迎。
plotUsage: 数据来源：demo数据
tags: label样式
recommend: true
subCat: 基础饼图
-->
<script>
    const data = [
        { location: '三亚', value: 44.9 },
        { location: '千岛湖', value: 19.7 },
        { location: '柬埔寨', value: 17.3 },
        { location: '呼伦贝尔', value: 14.4 },
        { location: '苏梅岛', value: 2.5 },
        { location: '塞班岛', value: 2.5 }
    ];
    const chart = new G2.Chart({
        container: 'mountNode',
        forceFit: true,
        height: window.innerHeight,
        padding: 'auto'
    });
    chart.source(data);
    chart.legend({
        position: 'right-center',
        offsetX: -100
    });
    chart.coord('theta', {
        radius: 0.75
    });
    chart.intervalStack().position('value').color('location', ['#1890ff', '#37c661', '#fbce1e', '#2b3b79', '#8a4be2', '#1dc5c5'])
        .style({
            stroke: 'white',
            lineWidth: 1
        })
        .label('value', function (val) {
            if (val < 3) {
                return null;
            } else {
                return {
                    offset: -30,
                    textStyle: {
                        fill: 'white',
                        fontSize: 14,
                        shadowBlur: 2,
                        shadowColor: 'rgba(0, 0, 0, .45)'
                    },
                    formatter: (text) => {
                        return text + '%';
                    }
                };
            }
        });
    chart.render();
</script>
